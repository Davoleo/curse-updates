datasource db {
    provider = "sqlite"
    url = "file:../data.db"
}

generator client {
    provider = "prisma-client-js"
}

model ServerConfig {
    id                  String @id
    serverName          String
    announcementConfigs AnnouncementsConfig[]
    projects            AssignedProject[]
}

model AssignedProject {
    project     CachedProject   @relation(fields: [projectId], references: [id])
    projectId   Int
    server      ServerConfig    @relation(fields: [serverId], references: [id])
    serverId    String

    @@id([projectId, serverId])
}

model AnnouncementsConfig {
    id          Int             @id @default(autoincrement())
    serverId    String
    server      ServerConfig    @relation(fields: [serverId], references: [id])
    channel     String?
    message     String?
}

model CachedProject {
    id              Int             @id
    slug            String          @unique
    version         String
    subscribedGuilds AssignedProject[]
}

    //     serverId: Snowflake;
    // serverName: string;
    // prefix: string;
    // releasesChannel: Snowflake;
    // messageTemplate: string;
    // projectIds: Array<number>;


    //     id: number;
    // slug: string;
    // version: string;
    // subbedGuilds: Snowflake[];